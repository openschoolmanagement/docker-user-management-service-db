version: '3.3'

services:
    mysql:
        image: mysql:latest
        name: OSM_MySQL_User_DB
        environment:
            MYSQL_DATABASE: OSM_USER_DB
            MYSQL_ROOT_PASSWORD: root
            MYSQL_USER: dbuser
            MYSQL_PASSWORD: school123
        command: mysqld --default-authentication-plugin=mysql_native_password
        ports:
            - 3306:3306
        volumes: 
            - ./mysql/docker-entrypoint-initdb.d:/docker-entrypoint-initdb.d

    mongo:
        image: 'bitnami/mongodb:latest'
        name: OSM_MongoDB_User_EventStore
        restart: always
        ports:
            - 27017:27017
        environment:
            - MONGODB_USERNAME=mongouser
            - MONGODB_PASSWORD=school123
            - MONGODB_DATABASE=OSM_USER_EVENTS
